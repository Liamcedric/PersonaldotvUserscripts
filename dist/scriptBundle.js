(()=>{let e,t,n;function o(){let o={vit:0,en:0,hon:0,xp:0};var a,s,i,l,r,c;document.querySelectorAll(".ammount-left").forEach(((e,t)=>{const a=parseInt(e.firstChild.innerText.split("/")[0].replace(",",""));t===0+n?o.vit=a:t===1+n?o.en=a:t===2+n?o.hon=a:t===3+n&&(o.xp=a)})),a=o.vit+o.en+o.hon,r=(i=((s=parseInt(o.xp/1.45))-a)/t)%60,c="",(l=Math.floor(i/60))>0&&(c+=`${l}h `),c+=`${Math.floor(r)}m`,e.innerHTML=s<a?"You have enough resources to level up!":`&nbsp;&nbsp;&nbsp; ${c}   &nbsp;&nbsp;&nbsp;  Resources: ${a}/${s}`}!async function(){n=5===document.getElementsByClassName("ammount-left").length?1:0,t=await async function(){const e=await fetch("https://api.dragonsofthevoid.com/api/user/info",{headers:{Authorization:localStorage.token}}),t=(await e.json()).payload.user;return 60/t.energyTimerSeconds+60/t.vitalityTimerSeconds+60/t.honorTimerSeconds}(),function(){e=document.createElement("span"),e.style.cssText="font-size: max(14px, var(--min-font-size)); margin-left: 20px; color: white; padding-top: 3px;",document.getElementsByClassName("ammount-left")[3+n].appendChild(e);const t=new MutationObserver(o),a={childList:!0,subtree:!0};document.querySelectorAll(".ammount-left").forEach((e=>t.observe(e.firstChild,a))),o()}()}()})(),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&e.querySelector("div.dotv-container.router-container > div:nth-child(7)")&&function(){const e=document.querySelector("#game-view > div > div.dotv-container.router-container > div:nth-child(6) > div > div:nth-child(6)"),t=e?.lastChild?.cloneNode(!0);t.firstChild.classList.add("inactive");const n=t.querySelector("h4").textContent="test";t.addEventListener("click",(()=>{t.firstChild.classList.remove("inactive"),window.history.pushState({},"",`#/${n}-raid`),Array.from(e.childNodes).slice(0,-1).forEach((e=>{e.firstChild.classList.add("inactive")}))})),Array.from(e.childNodes).slice(0,-1).forEach((e=>{e.addEventListener("click",(()=>{t.firstChild.classList.add("inactive")}))})),e?.appendChild(t)}()}))}))})).observe(document.getElementById("game-view"),{childList:!0,subtree:!0}),(()=>{if(null===localStorage.getItem("dailyStats")){const e={lastUpdated:"2021-01-01",spVal:0,lvl:0};localStorage.setItem("dailyStats",JSON.stringify(e))}!async function(){let e=null;const t=document.getElementsByClassName("avatar")[0].firstChild;t.addEventListener("mouseover",(()=>{e=document.createElement("div"),e.innerText="Loading...",e.style.position="absolute",e.style.backgroundColor="black",e.style.color="white",e.style.padding="4px",e.style.borderRadius="4px",e.style.zIndex="9999";const n=t.getBoundingClientRect();e.style.left=`${n.left+window.scrollX}px`,e.style.top=`${n.top+window.scrollY}px`,e.style.pointerEvents="none",document.body.appendChild(e),async function(){const e=function(e){const t=e.inventory.items["p.stats"].qty;let n={constitution:0,strength:0,agility:0,intellect:0,perception:0,leadership:0,vitalitycap:0,energycap:0,honorcap:0,level:0},o=Object.fromEntries(Object.entries(e.user).filter((([e,t])=>n.hasOwnProperty(e))));return o.sp=t,o}(await async function(){const e=await fetch("https://api.dragonsofthevoid.com/api/user/info",{method:"GET",headers:{authorization:localStorage.token}});return(await e.json()).payload}()),t=function(e){let t=0;for(const[n,o]of Object.entries(e))"level"!==n?t+=o:t-=o;return t}(e);yesterdayStats=JSON.parse(localStorage.getItem("dailyStats"));const n=new Date,o=`${n.getUTCFullYear()}-${n.getUTCMonth()}-${n.getUTCDate()}`;if(o>yesterdayStats.lastUpdated){const n={lastUpdated:o,spVal:t,lvl:e.level};localStorage.setItem("dailyStats",JSON.stringify(n))}return`sp gained: ${t-yesterdayStats.spVal}\nlevel gained: ${e.level-yesterdayStats.lvl}`}().then((t=>{e.innerText=t})).catch((e=>{console.error(e)}))})),t.addEventListener("mouseout",(()=>{e&&(e.remove(),e=null)}))}()})();