(()=>{let e,t,n;function a(){let a={vit:0,en:0,hon:0,xp:0};var o,i,s,r,l,c;document.querySelectorAll(".ammount-left").forEach(((e,t)=>{const o=parseInt(e.firstChild.innerText.split("/")[0].replace(",",""));t===0+n?a.vit=o:t===1+n?a.en=o:t===2+n?a.hon=o:t===3+n&&(a.xp=o)})),o=a.vit+a.en+a.hon,l=(s=((i=parseInt(a.xp/1.45))-o)/t)%60,c="",(r=Math.floor(s/60))>0&&(c+=`${r}h `),c+=`${Math.floor(l)}m`,e.innerHTML=i<o?"You have enough resources to level up!":`&nbsp;&nbsp;&nbsp; ${c}   &nbsp;&nbsp;&nbsp;  Resources: ${o}/${i}`}!async function(){n=5===document.getElementsByClassName("ammount-left").length?1:0,t=await async function(){const e=await fetch("https://api.dragonsofthevoid.com/api/user/info",{headers:{Authorization:localStorage.token}}),t=(await e.json()).payload.user;return 60/t.energyTimerSeconds+60/t.vitalityTimerSeconds+60/t.honorTimerSeconds}(),function(){e=document.createElement("span"),e.style.cssText="font-size: max(14px, var(--min-font-size)); margin-left: 20px; color: white; padding-top: 3px;",document.getElementsByClassName("ammount-left")[3+n].appendChild(e);const t=new MutationObserver(a),o={childList:!0,subtree:!0};document.querySelectorAll(".ammount-left").forEach((e=>t.observe(e.firstChild,o))),a()}()}()})(),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&e.querySelector("div.dotv-container.router-container > div:nth-child(7)")&&function(){const e=document.querySelector("#game-view > div > div.dotv-container.router-container > div:nth-child(6) > div > div:nth-child(6)"),t=e?.lastChild?.cloneNode(!0);t.firstChild.classList.add("inactive");const n=t.querySelector("h4").textContent="test";t.addEventListener("click",(()=>{t.firstChild.classList.remove("inactive"),window.history.pushState({},"",`#/${n}-raid`),Array.from(e.childNodes).slice(0,-1).forEach((e=>{e.firstChild.classList.add("inactive")}))})),Array.from(e.childNodes).slice(0,-1).forEach((e=>{e.addEventListener("click",(()=>{t.firstChild.classList.add("inactive")}))})),e?.appendChild(t)}()}))}))})).observe(document.getElementById("game-view"),{childList:!0,subtree:!0}),async function(){const e=function(e){let t={constitution:0,strength:0,agility:0,intellect:0,perception:0,leadership:0,vitalitycap:0,energycap:0,honorcap:0,level:0};return Object.fromEntries(Object.entries(e).filter((([e,n])=>t.hasOwnProperty(e))))}(await async function(){const e=await fetch("https://api.dragonsofthevoid.com/api/user/info",{method:"GET",headers:{authorization:localStorage.token}});return(await e.json()).payload.user}()),t=function(e){let t=0;for(const[n,a]of Object.entries(e))"level"!==n?t+=a:t-=a;return t}(e);if(null===localStorage.getItem("dailyStats")){const e={lastUpdated:"2021-01-01",spVal:0,lvl:0};localStorage.setItem("dailyStats",JSON.stringify(e))}yesterdayStats=JSON.parse(localStorage.getItem("dailyStats"));const n=new Date,a=`${n.getUTCFullYear()}-${n.getUTCMonth()}-${n.getUTCDate()}`;if(a>yesterdayStats.lastUpdated){const n={lastUpdated:a,spVal:t,lvl:e.level};localStorage.setItem("dailyStats",JSON.stringify(n))}console.log(`sp gained: ${t-yesterdayStats.spVal}, level gained: ${e.level-yesterdayStats.lvl}`)}();